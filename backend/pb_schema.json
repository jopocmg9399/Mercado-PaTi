[
    {
        "id": "shops_col_id",
        "name": "shops",
        "type": "base",
        "system": false,
        "schema": [
            {
                "system": false,
                "id": "shop_name",
                "name": "name",
                "type": "text",
                "required": true,
                "presentable": false,
                "unique": false,
                "options": {
                    "min": null,
                    "max": null,
                    "pattern": ""
                }
            },
            {
                "system": false,
                "id": "shop_commission",
                "name": "commission_rate",
                "type": "number",
                "required": false,
                "presentable": false,
                "unique": false,
                "options": {
                    "min": null,
                    "max": null,
                    "noDecimal": false
                }
            },
            {
                "system": false,
                "id": "shop_owner",
                "name": "owner",
                "type": "relation",
                "required": false,
                "presentable": false,
                "unique": false,
                "options": {
                    "collectionId": "_pb_users_auth_",
                    "cascadeDelete": false,
                    "minSelect": null,
                    "maxSelect": 1,
                    "displayFields": null
                }
            }
        ],
        "indexes": [],
        "listRule": "",
        "viewRule": "",
        "createRule": "",
        "updateRule": "owner = @request.auth.id",
        "deleteRule": "owner = @request.auth.id",
        "options": {}
    },
    {
        "id": "products_col_id",
        "name": "products",
        "type": "base",
        "system": false,
        "schema": [
            {
                "system": false,
                "id": "prod_name",
                "name": "name",
                "type": "text",
                "required": true,
                "presentable": false,
                "unique": false,
                "options": {
                    "min": null,
                    "max": null,
                    "pattern": ""
                }
            },
            {
                "system": false,
                "id": "prod_price",
                "name": "price",
                "type": "number",
                "required": false,
                "presentable": false,
                "unique": false,
                "options": {
                    "min": null,
                    "max": null,
                    "noDecimal": false
                }
            },
            {
                "system": false,
                "id": "prod_shop",
                "name": "shop",
                "type": "relation",
                "required": true,
                "presentable": false,
                "unique": false,
                "options": {
                    "collectionId": "shops_col_id",
                    "cascadeDelete": true,
                    "minSelect": null,
                    "maxSelect": 1,
                    "displayFields": null
                }
            }
        ],
        "indexes": [],
        "listRule": "",
        "viewRule": "",
        "createRule": "shop.owner = @request.auth.id",
        "updateRule": "shop.owner = @request.auth.id",
        "deleteRule": "shop.owner = @request.auth.id",
        "options": {}
    },
    {
        "id": "affiliates_col_id",
        "name": "affiliates",
        "type": "base",
        "system": false,
        "schema": [
            {
                "system": false,
                "id": "aff_code",
                "name": "code",
                "type": "text",
                "required": true,
                "presentable": false,
                "unique": true,
                "options": {
                    "min": null,
                    "max": null,
                    "pattern": ""
                }
            },
            {
                "system": false,
                "id": "aff_user",
                "name": "user",
                "type": "relation",
                "required": true,
                "presentable": false,
                "unique": false,
                "options": {
                    "collectionId": "_pb_users_auth_",
                    "cascadeDelete": false,
                    "minSelect": null,
                    "maxSelect": 1,
                    "displayFields": null
                }
            }
        ],
        "indexes": [],
        "listRule": "",
        "viewRule": "",
        "createRule": "user = @request.auth.id",
        "updateRule": "user = @request.auth.id",
        "deleteRule": "user = @request.auth.id",
        "options": {}
    },
    {
        "id": "sales_col_id",
        "name": "sales",
        "type": "base",
        "system": false,
        "schema": [
            {
                "system": false,
                "id": "sale_amount",
                "name": "amount",
                "type": "number",
                "required": true,
                "presentable": false,
                "unique": false,
                "options": {
                    "min": null,
                    "max": null,
                    "noDecimal": false
                }
            },
            {
                "system": false,
                "id": "sale_shop",
                "name": "shop",
                "type": "relation",
                "required": true,
                "presentable": false,
                "unique": false,
                "options": {
                    "collectionId": "shops_col_id",
                    "cascadeDelete": false,
                    "minSelect": null,
                    "maxSelect": 1,
                    "displayFields": null
                }
            },
            {
                "system": false,
                "id": "sale_product",
                "name": "product",
                "type": "relation",
                "required": true,
                "presentable": false,
                "unique": false,
                "options": {
                    "collectionId": "products_col_id",
                    "cascadeDelete": false,
                    "minSelect": null,
                    "maxSelect": 1,
                    "displayFields": null
                }
            },
            {
                "system": false,
                "id": "sale_affiliate",
                "name": "affiliate",
                "type": "relation",
                "required": false,
                "presentable": false,
                "unique": false,
                "options": {
                    "collectionId": "affiliates_col_id",
                    "cascadeDelete": false,
                    "minSelect": null,
                    "maxSelect": 1,
                    "displayFields": null
                }
            }
        ],
        "indexes": [],
        "listRule": "shop.owner = @request.auth.id || affiliate.user = @request.auth.id",
        "viewRule": "shop.owner = @request.auth.id || affiliate.user = @request.auth.id",
        "createRule": "",
        "updateRule": "",
        "deleteRule": "",
        "options": {}
    }
]